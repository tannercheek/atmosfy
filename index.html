<!--Atmosfy — Ambient Sound Mixer-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Atmosfy — Ambient Sound Mixer</title>
  <!--LINKS-->
  <!--YouTube connections-->
  <link rel="preconnect" href="https://www.youtube.com">
  <link rel="dns-prefetch" href="https://www.youtube.com">
  <link rel="stylesheet" href="src/styles.css" />
  <!--Google Font "Instrument Serif" For Logo-->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Instrument+Serif:ital@0;1&family=Space+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
  <body>
    <canvas id="webglCanvas"></canvas>
  <div class="container">
    <!--Header-->
    <header>
      <div class="brand">
        <div>
          <!--Logo-->
          <h1 class="logo-type">Atmosfy</h1>
        </div>
      </div>
      <div class="pill" id="audioStatus">Audio: stopped</div>
    </header>

    <!-- Mixer Section -->
    <main class="stage">
      <section class="grid" id="mixer">

        <!-- YouTube -->
        <article class="card" data-source="youtube">
          <div class="yt-controls">
            <h2>YouTube Audio</h2>
            <div class="row stack">
              <label for="yt-url" class="sr-only">YouTube URL</label>
              <input id="yt-url" type="url" placeholder="Paste a YouTube link (any video)" spellcheck="false" />
              <p class="muted" style="margin: 4px 0;">Note: Some videos (especially music) may have embedding disabled. Try regular YouTube videos if one doesn't work.</p>
              <div class="row">
                <div>
                  <button class="primary" id="yt-load">Load</button>
                  <button id="yt-clear">Clear</button>
                </div>
                <span class="muted" id="yt-status">Idle</span>
              </div>
            </div>
            <div class="row">
              <label class="toggle" title="Toggle YouTube">
                <input type="checkbox" id="toggle-youtube" />
                <span class="slider"></span>
              </label>
              <div class="muted">On/Off</div>
            </div>
            <div class="row">
              <input type="range" id="vol-youtube" min="0" max="100" value="35" />
            </div>
          </div>
          <div class="yt-shell">
            <div class="yt-mini"><div id="yt-player"></div></div>
          </div>
        </article>

        <!-- Rain -->
        <article class="card" data-source="rain">
          <h2>Rain</h2>
          <div class="row">
            <label class="toggle" title="Toggle rain">
              <input type="checkbox" id="toggle-rain" />
              <span class="slider"></span>
            </label>
            <div class="muted">On/Off</div>
          </div>
          <div class="row">
            <input type="range" id="vol-rain" min="0" max="100" value="60" />
          </div>
          <audio id="audio-rain" loop crossorigin="anonymous">
            <source src="public/audio/rain.mp3" type="audio/mpeg" />
          </audio>
        </article>

        <!-- Ocean -->
        <article class="card" data-source="ocean">
          <h2>Ocean Waves</h2>
          <div class="row">
            <label class="toggle" title="Toggle ocean">
              <input type="checkbox" id="toggle-ocean" />
              <span class="slider"></span>
            </label>
            <div class="muted">On/Off</div>
          </div>
          <div class="row">
            <input type="range" id="vol-ocean" min="0" max="100" value="55" />
          </div>
          <audio id="audio-ocean" loop crossorigin="anonymous">
            <source src="public/audio/ocean.mp3" type="audio/mpeg" />
          </audio>
        </article>

        <!-- City -->
        <article class="card" data-source="city">
          <h2>City / Urban</h2>
          <div class="row">
            <label class="toggle" title="Toggle city">
              <input type="checkbox" id="toggle-city" />
              <span class="slider"></span>
            </label>
            <div class="muted">On/Off</div>
          </div>
          <div class="row">
            <input type="range" id="vol-city" min="0" max="100" value="40" />
          </div>
          <audio id="audio-city" loop crossorigin="anonymous">
            <source src="public/audio/city.mp3" type="audio/mpeg" />
          </audio>
        </article>

        <!-- Bar / Tavern -->
        <article class="card" data-source="tavern">
          <h2>Bar / Tavern</h2>
          <div class="row">
            <label class="toggle" title="Toggle tavern">
              <input type="checkbox" id="toggle-tavern" />
              <span class="slider"></span>
            </label>
            <div class="muted">On/Off</div>
          </div>
          <div class="row">
            <input type="range" id="vol-tavern" min="0" max="100" value="40" />
          </div>
          <audio id="audio-tavern" loop crossorigin="anonymous">
            <source src="public/audio/tavern.mp3" type="audio/mpeg" />
          </audio>
        </article>

      </section>
    </main>

    <div class="footer">
      <div class="hint">Tip: Toggle a layer on to start audio (browsers require a click).</div>
      <div class="hint">Made by Tanner Cheek, clouds by <a class="link" href="https://codepen.io/sujitkoji">@sujitkoji</a></div>
    </div>
  </div>

  <!-- YouTube IFrame API -->
  <script>
    (function loadYT(){
      const tag = document.createElement('script');
      tag.src = "https://www.youtube.com/iframe_api";
      document.head.appendChild(tag);
    })();
  </script>
  <script src="src/app.js"></script>
  <!-- clouds from https://codepen.io/sujitkoji/pen/GgpbJdj?editors=0010 -->
  <script src="src/clouds.js"></script>
</body>
</html>
